#ifndef FAT_ENTRIES_H
#define FAT_ENTRIES_H

///////////////////////////////////////////////////////////////////////////
// INCLUDES ///////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////
#include "equations.h"

///////////////////////////////////////////////////////////////////////////
// MACROS /////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////
#define EOC 268435448 // hex: 0x0FFFFFF8
#define FAT_ENTRY_SIZE 4

///////////////////////////////////////////////////////////////////////////
// TYPE DEFINITIONS ///////////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////
typedef struct {
	uint32_t currentClusterNumber; 		// consists of the current cluster number we are on
	uint32_t nextClusterNumber; 		// consists of the next cluster number in the cluster chain
	uint32_t FATEntrySectorNumber;		// holds the sector number of the FAT entry
	uint16_t FATEntryByteOffset;		// holds the byte offset FROM the sector number of the FAT entry
	uint64_t FATEntryByteAddress;		// the byte address of the FAT entry
} FATEntry;

///////////////////////////////////////////////////////////////////////////
// FUNCTION DECLARATIONS //////////////////////////////////////////////////
///////////////////////////////////////////////////////////////////////////

// In:			thisBootSector (bootSector (struct)), clusterNumber (uint32_t)
// Out:			thisFatEntry (fatEntry (struct))
// Purpose:		to create a fatEntry struct for convenienve in moving through clusters and to abstract cluster chain logic	
// Notes:
FATEntry getFATEntry(FILE* filePtr, bootSector thisBootSector, uint32_t clusterNumber);

#endif /* FAT_ENTRIES_H */
